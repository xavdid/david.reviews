---
// useful for showing local mp4 video natively (since it's not directly supported by astro).
// see: https://docs.astro.build/en/guides/imports/#supported-file-types

// for making mp4s act like gifs, see: https://css-tricks.com/what-does-playsinline-mean-in-web-video/

// use dotfile command `shrink-gif` to prepare these.

type Props = {
  // not actually typechecked
  src: `/${string}.mp4`;
};

const { src } = Astro.props;

if (!src.startsWith("/videos/")) {
  throw new Error(
    "Videos should live in the `/public/vidoes` folder and be referenced as `/videos/game/some-name.mp4` directly.",
  );
}
---

<video autoplay loop muted playsinline src={src}></video>
