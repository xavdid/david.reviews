---
type Props = {
  steamId: string;
  /**
   * What's in the textbox. Defaults to the game's steam description if not present.
   */
  description?: string;
  /**
   * whether to add a leading `<hr />` element; false by default
   */
  addHr?: boolean;
};

const { steamId, description, addHr } = Astro.props;

// I don't love the UTM, but the widget adds one anyway so I might as well get credit
---

<!-- make an extra block that's mobile-only? that describes where to get it? Have to balance that --><!-- maybe add param thats: platforms?: Array<string | {name: string, url: string}> which I can smartly join --><!-- that probably always goes after the embed, since I can use that in full reviews too --><!-- this doesn't look good on mobile, unfortunately -->
<div>
  {addHr && <hr />}

  <iframe
    src={`https://store.steampowered.com/widget/${steamId}/?utm_source=david-reviews${
      description ? `&t=${encodeURIComponent(description)}` : ""
    }`}
    class:list={[
      "mx-auto",
      "my-4",
      "border-none",
      "focus-visible:outline-hidden",
      "w-full md:w-[646px]",
      "h-[190px]",
    ]}></iframe>
</div>
